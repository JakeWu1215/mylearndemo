package commonUtils;
import org.apache.commons.io.FileUtils;

// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确

/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */
//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录
/**
 * 创建目录
 * @param destDirName 目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
//删除filePath目录下，过去daysPast天的文件
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
// 验证字符串是否为正确路径名的正则表达式
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
/**
 *  根据路径删除指定的目录或文件，无论存在与否
 *@param sPath  要删除的目录或文件
 *@return 删除成功返回 true，否则返回 false。
 */
// 判断目录或文件是否存在
// 不存在返回 false
// 判断是否为文件
// 为文件时调用删除文件方法
// 为目录时调用删除目录方法
/**
 * 删除单个文件
 * @param   sPath    被删除文件的文件名
 * @return 单个文件删除成功返回true，否则返回false
 */
// 路径为文件且不为空则进行删除
/**
 * 删除目录（文件夹）以及目录下的文件
 * @param   sPath 被删除目录的文件路径
 * @return  目录删除成功返回true，否则返回false
 */

//如果sPath不以文件分隔符结尾，自动添加文件分隔符
//如果dir对应的文件不存在，或者不是一个目录，则退出
//删除文件夹下的所有文件(包括子目录)
//删除子文件
//删除子目录
//删除当前目录

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpStatus;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;
import org.springframework.web.multipart.MultipartFile;

import javax.servlet.ServletOutputStream;
import javax.servlet.http.HttpServletResponse;
import java.io.*;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.*;

/**
 * 创建目录
 *
 * @param
 *            目标目录名
 * @return 目录创建成功返回true，否则返回false
 */
// 创建单个目录
// 删除filePath目录下，过去daysPast天的文件
// 如果dir对应的文件不存在，或者不是一个目录，则退出
// 删除文件
// path是指欲下载的文件的路径。
// 取得文件名。
// 以流的形式下载文件。
// 清空response
// 设置response的Header
public class FileUtil {

    private static final Logger logger = LoggerFactory.getLogger(FileUtil.class);

    // 验证字符串是否为正确路径名的正则表达式
    private static String matches = "[A-Za-z]:\\\\[^:?\"><*]*";

    // 通过 sPath.matches(matches) 方法的返回值判断是否正确

    /**
     * 根据路径删除指定的目录或文件，无论存在与否
     *
     * @param sPath
     *            要删除的目录或文件
     * @return 删除成功返回 true，否则返回 false。
     */
    public boolean DeleteFolder(String sPath) {
        boolean flag = false;
        File file = new File(sPath);
        // 判断目录或文件是否存在
        if (!file.exists()) { // 不存在返回 false
            return flag;
        } else {
            // 判断是否为文件
            if (file.isFile()) { // 为文件时调用删除文件方法
                return deleteFile(sPath);
            } else { // 为目录时调用删除目录方法
                return deleteDirectory(sPath);
            }
        }
    }

    /**
     * 删除单个文件
     *
     * @param sPath
     *            被删除文件的文件名
     * @return 单个文件删除成功返回true，否则返回false
     */
    public boolean deleteFile(String sPath) {
        boolean flag = false;
        File file = new File(sPath);
        // 路径为文件且不为空则进行删除
        if (file.isFile() && file.exists()) {
            file.delete();
            flag = true;
        }
        return flag;
    }

    /**
     * 删除目录（文件夹）以及目录下的文件
     *
     * @param sPath
     *            被删除目录的文件路径
     * @return 目录删除成功返回true，否则返回false
     */
    public boolean deleteDirectory(String sPath) {
        boolean flag;

        // 如果sPath不以文件分隔符结尾，自动添加文件分隔符
//		if (!sPath.endsWith("/")) {
//			sPath = sPath + "/";
//		}

        File dirFile = new File(sPath);
        // 如果dir对应的文件不存在，或者不是一个目录，则退出
        if (!dirFile.exists() || !dirFile.isDirectory()) {
            return true;
        }
        flag = true;

        // 删除文件夹下的所有文件(包括子目录)
        File[] files = dirFile.listFiles();
        for (int i = 0; i < files.length; i++) {
            // 删除子文件
            if (files[i].isFile()) {
                flag = deleteFile(files[i].getAbsolutePath());
                if (!flag)
                    break;
            } // 删除子目录
            else {
                flag = deleteDirectory(files[i].getAbsolutePath());
                if (!flag)
                    break;
            }
        }

        if (!flag)
            return false;
        // 删除当前目录
        if (dirFile.delete()) {
            return true;
        } else {
            return false;
        }
    }
    //删除文件夹
    public boolean delFolder(String folderPath) {
        boolean flag = false;
        try {
            flag = delAllFile(folderPath); //删除完里面所有内容
            String filePath = folderPath;
            filePath = filePath.toString();
            File myFilePath = new File(filePath);
            myFilePath.delete(); //删除空文件夹
            flag = true;
        } catch (Exception e) {
            e.printStackTrace();
        }
        return flag;
    }

//删除指定文件夹下的所有文件

    public boolean delAllFile(String path) {
        boolean flag = false;
        File file = new File(path);
        if (!file.exists()) {
            return flag;
        }
        if (!file.isDirectory()) {
            return flag;
        }
        String[] tempList = file.list();
        File temp = null;
        for (int i = 0; i < tempList.length; i++) {
            if (path.endsWith(File.separator)) {
                temp = new File(path + tempList[i]);
            } else {
                temp = new File(path + File.separator + tempList[i]);
            }
            if (temp.isFile()) {
                System.gc();    //回收资源
                temp.delete();
            }
            if (temp.isDirectory()) {
                delAllFile(path + "/" + tempList[i]);//先删除文件夹里面的文件
                delFolder(path + "/" + tempList[i]);//再删除空文件夹
                flag = true;
            }
        }
        return flag;
    }
    /**
     * 创建目录
     *
     * @param destDirName
     *            目标目录名
     * @return 目录创建成功返回true，否则返回false
     */
    public boolean createDir(String destDirName) {
        File dir = new File(destDirName);
        if (dir.exists()) {
            logger.info("创建目录" + destDirName + "失败，目标目录已存在！");
            return false;
        }
        if (!destDirName.endsWith(File.separator))
            destDirName = destDirName + File.separator;
        // 创建单个目录
        if (dir.mkdirs()) {
            logger.info("创建目录" + destDirName + "成功！");
            return true;
        } else {
            logger.info("创建目录" + destDirName + "成功！");
            return false;
        }
    }

    // 删除filePath目录下，过去daysPast天的文件
    public void deleteFilesByDate(String filePath, int daysPast) {
        File dirFile = new File(filePath);
        // 如果dir对应的文件不存在，或者不是一个目录，则退出
        if (!dirFile.exists() || !dirFile.isDirectory()) {
        }

        Calendar cal = Calendar.getInstance();
        cal.setTime(new Date());
        cal.add(Calendar.DATE, -daysPast);

        File[] files = dirFile.listFiles();
        if (files != null) {
            for (int i = 0; i < files.length; i++) {
                // 删除文件
                if (files[i].isFile()) {
                    long lastModify = files[i].lastModified();
                    if (lastModify <= cal.getTimeInMillis()) {
                        try {
                            deleteFile(files[i].getAbsolutePath());
                        } catch (Exception ex) {
                            ex.printStackTrace();
                        }
                    }
                }
            }
        }
    }

    public static String reFileName() {
        SimpleDateFormat format = new SimpleDateFormat("yyyyMMddHHmmss");
        String date = format.format(new Date());
        int num = (int) (Math.random() * (9999 - 1000 + 1) + 1000);
        return date + num;
    }

//    // 文件上传
//    public static String fileIo(MultipartFile file, String fileName, String realPath) {
//        String PictureName = "";
//        if (fileName != null) {
//            try {
//                // 获得tomcat 文件夹的绝对路径("一定是tomcat里面")
//                DateFormat formatter = new SimpleDateFormat("yyyyMM");
//                String date = formatter.format(new Date());
//                String path = realPath + "photos/" + date;
//                FileUtil fileutil = new FileUtil();
//                fileutil.createDir(path);
//                // 用当前时间毫秒+ 用户名id + 缩略图标识SLT+文件扩展名;
//                PictureName = CommonUtil.getUUID() + "SLT" + fileName.substring(fileName.lastIndexOf("."));
//                // 写
//                File targetFile = new File(path + "/" + PictureName);
//                file.transferTo(targetFile);
//                String a = path + "/" + PictureName;
//                String b1 = path + "/" + PictureName.substring(0, PictureName.lastIndexOf(".")) + "_" + PictureName.substring(PictureName.lastIndexOf("."));
//                ImageUtils.createThumbnail(a, b1, 600, 450);
//            } catch (Exception e) {
//                e.printStackTrace();
//            }
//        }
//        return PictureName.substring(0, PictureName.lastIndexOf(".")) + "_" + PictureName.substring(PictureName.lastIndexOf("."));
//    }

    public static ResponseEntity<byte[]> common(String filePath) {
        File file = new File(filePath);
        if (file.exists()) {
            HttpHeaders httpHeaders = new HttpHeaders();
            try {
                // 为了解决中文名称乱码问题
                String fileName = new String(file.getName().getBytes("UTF-8"), "iso-8859-1");
                httpHeaders.setContentDispositionFormData("attachment", fileName);
                httpHeaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);
                return new ResponseEntity<byte[]>(FileUtils.readFileToByteArray(file), httpHeaders, HttpStatus.CREATED);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        return null;
    }

    public static void downloadFile(HttpServletResponse response, String filePath) throws IOException {

        File f = new File(filePath);
        response.setContentType("APPLICATION/OCTET-STREAM");
        response.setHeader("Content-Disposition", "attachment; filename=" + new String(f.getName().getBytes("gb2312"), "ISO8859-1"));

        ServletOutputStream out = response.getOutputStream();
        BufferedInputStream bis = null;
        BufferedOutputStream bos = null;
        try {
            bis = new BufferedInputStream(new FileInputStream(f));
            bos = new BufferedOutputStream(out);
            byte[] buff = new byte[2048];
            int bytesRead;
            while (-1 != (bytesRead = bis.read(buff, 0, buff.length))) {
                bos.write(buff, 0, bytesRead);
            }
        } catch (final IOException e) {
            throw e;
        } finally {
            if (bis != null)
                bis.close();
            if (bos != null)
                bos.close();
        }
    }

    public static List<String> readTxtFile(String file) {
        File ctoFile = new File(file);
        InputStreamReader rdCto = null;
        List<String> list = new ArrayList<String>();
        BufferedReader bfReader = null;
        try {
            rdCto = new InputStreamReader(new FileInputStream(ctoFile), "GBK");
            bfReader = new BufferedReader(rdCto);
            String txtline = null;
            while ((txtline = bfReader.readLine()) != null) {
                list.add(txtline);
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (rdCto != null) {
                try {
                    rdCto.close();
                } catch (IOException e) {
                    logger.error("关闭rdCto流时异常：", e);
                }
            }
            if (bfReader != null) {
                try {
                    bfReader.close();
                } catch (IOException e) {
                    logger.error("关闭bfReader流时异常：", e);
                }
            }
        }
        return list;
    }

    /**
     *
     * @Title: writefile
     * @Description: 写文件
     * @param @param path 保存文件路径
     * @param @param content 文件内容
     * @param @param encoding 文件编码
     * @param @return 参数
     * @return boolean 返回类型
     * @throws
     */
    public static boolean writefile(String path, List<String> content, String encoding) {
        boolean flag = false;
        FileOutputStream out = null;
        try {
            File file = new File(path);
            Iterator<String> iterator = content.iterator();
            if (!file.exists()) {
                file.createNewFile();
            }
            out = new FileOutputStream(file, false);
            StringBuffer sb = new StringBuffer();
            while (iterator.hasNext()) {
                sb.append(iterator.next().toString() + "\n");
            }
            out.write(sb.toString().getBytes(encoding));// 注意需要转换对应的字符集
            out.flush();
            flag = true;
            out.close();
        } catch (IOException e) {
            logger.error("写文件失败：", e);
        } finally {
            try {
                out.close();
            } catch (IOException e) {
                logger.error("写文件失败：", e);
            }
        }
        return flag;

    }

    public static void main(String[] args) {
//		List<String> set = new ArrayList<String>();
//		set.add("20180716|IMGDOC0001_QKC_20180716_0001|2|QKC|qkBalFinancing|2");
//		set.add("000001|20180716_623185009000276409_000001|JPG|623185009000276409|P0001|BS001");
//		set.add("000001|20180716_623185009000276409_000001|JPG|623185009000276409|P0002|BS001");
//		boolean flag = FileUtil.writefile("d:/abc.txt", set, "gbk");
//		System.out.println(flag);
        FileUtil util = new FileUtil();
        util.DeleteFolder("D:/opt/upload/bos/sfzyxfj/20180714");
    }
}

